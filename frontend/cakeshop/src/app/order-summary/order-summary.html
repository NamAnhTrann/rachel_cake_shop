<section class="max-w-4xl mx-auto px-4 py-20 mt-12">


  <!-- EMPTY ORDER -->
  @if ( !order) {
    <div class="min-h-[70vh] sm:min-h-[80vh] flex flex-col items-center justify-center text-center px-4">
      
      <h1 class="text-4xl font-semibold text-gray-900">
        You Have No Orders Yet
      </h1>

      <p class="text-gray-600 text-lg mt-4 max-w-md">
        Once you make a purchase, your order details will appear here.  
        Start exploring our cakes and treat yourself today.
      </p>

      <a
        routerLink="/product_list"
        class="mt-8 px-6 py-3 rounded-full bg-orange-600 text-white text-lg font-medium
               hover:bg-orange-500 transition block w-fit mb-32"
      >
        Browse Products
      </a>

    </div>
  }

  <!-- ORDER EXISTS -->
  @else {

    <!-- HEADING -->
    <h2 class="font-manrope font-bold text-3xl sm:text-4xl leading-10 text-[#E07A5F] mb-4">
      Your Order is Confirmed
    </h2>

    <p class="font-normal text-lg leading-8 text-[#8A6E63] mb-10">
      Thank you for shopping with us. Your delicious treats are on the way!
    </p>

    <!-- ORDER META GRID -->
<div
  class="grid grid-cols-1 sm:grid-cols-3 gap-8 py-8 border-y border-gray-200 mb-10 text-center sm:text-left"
>
  <div>
    <p class="text-gray-500 mb-2">Delivery Date</p>
    <h6 class="font-semibold text-2xl text-black">
      {{ order?.createdAt | date:'MMM d, y' }}
    </h6>
  </div>

  <div>
    <p class="text-gray-500 mb-2">Order</p>
    <h6 class="font-semibold text-2xl text-black">
      #{{ order?._id?.slice(-6) }}
    </h6>
  </div>

  <div>
    <p class="text-gray-500 mb-2">Payment Method</p>
    <h6 class="font-semibold text-2xl text-black">Stripe</h6>
  </div>
</div>


    <!-- ORDER ITEMS -->
    @for (item of orderItems; track item.product_id) {
      <div class="grid grid-cols-7 w-full py-6 border-b border-gray-100">

        <!-- IMAGE -->
        <div class="col-span-7 sm:col-span-2 md:col-span-1">
          <img
            [src]="item.product_id?.product_img"
            alt="Product image"
            class="w-full rounded-xl object-cover"
          />
        </div>

        <!-- DETAILS -->
        <div class="col-span-7 sm:col-span-5 md:col-span-6 sm:pl-5 flex flex-col justify-center mt-4 sm:mt-0">
          <div class="flex flex-col sm:flex-row sm:items-center justify-between">

            <div>
              <h5 class="font-semibold text-2xl text-black mb-3">
                {{ item.product_id?.product_title }}
              </h5>

              <p class="text-gray-600 text-lg">
                Quantity:
                <span class="font-semibold text-black">{{ item.quantity }}</span>
              </p>
            </div>

            <h5 class="font-semibold text-2xl text-black mt-3 sm:mt-0">
              ${{ item.quantity * item.price_at_purchase }}
            </h5>

          </div>
        </div>

      </div>
    }

    <!-- TOTALS -->
<div class="w-full mt-10">

  <div class="flex justify-between py-6 border-t border-gray-200 w-full text-left">
    <p class="font-semibold text-xl text-gray-900">Total Paid</p>
    <p class="font-bold text-xl text-black">
      ${{ order?.total_amount }}
    </p>
  </div>

</div>


    <!-- THANK YOU -->
    <div class="text-center mt-10">
      <h6 class="font-bold text-2xl text-black mb-2">Thank you for shopping with us!</h6>
      <p class="text-[#8A6E63] text-lg mb-6">Your cakes will be delivered soon.</p>

      <!-- BUTTON -->
      <a
        routerLink="/product_list"
        class="px-6 py-3 rounded-xl border border-transparent bg-orange-600 text-white hover:bg-orange-500 focus:bg-yellow-500 transition"
      >
        Continue Shopping
      </a>
    </div>

  }

</section>
